---
title: "GET DETAILS - Pobieranie szczeg贸贸w"
description: "Szczeg贸owy opis implementacji serwisu GET DETAILS - UI-API w systemie Wise."
tags: ["API", "GET", "UI-API", "Serwis Prezentacji", "PHP", "Symfony"]
---

# GET DETAILS - Pobieranie szczeg贸贸w

## Spis treci
1. [Wprowadzenie](#wprowadzenie)
   - [Co to jest GET DETAILS?](#co-to-jest-get-details)
   - [Dlaczego oddzielamy warstwy?](#dlaczego-oddzielamy-warstwy)
2. [Przepyw przetwarzania 偶dania](#przepyw-przetwarzania-偶dania)
3. [Implementacja metody get() i pobieranie danych](#implementacja-metody-get-i-pobieranie-danych)
4. [Mo偶liwoci rozszerzania](#mo偶liwoci-rozszerzania)
5. [Przykady implementacji](#przykady-implementacji)

---

## Wprowadzenie

Serwis prezentacji **GET DETAILS** w systemie **Wise** odpowiada za obsug zapyta **GET**, zwracajcych szczeg贸y pojedynczego obiektu. Jego g贸wnym zadaniem jest **separacja warstw** oraz zapewnienie **sp贸jnej obsugi danych wejciowych i wyjciowych**.

### Co to jest GET DETAILS?

Serwis GET DETAILS peni rol "porednika" midzy **kontrolerem a logik biznesow**.

**Zadania serwisu:**
- Pobieranie szczeg贸owych danych na podstawie zapyta
- Transformacja danych wejciowych na format systemowy
- Organizacja odpowiedzi w standardowym formacie API

### Dlaczego oddzielamy warstwy?

1. **Separacja Odpowiedzialnoci**
   - **Kontroler** obsuguje routing i walidacj danych
   - **Serwis prezentacji** zajmuje si formatowaniem danych
   - **Logika biznesowa** pozostaje niezale偶na od prezentacji

2. **Standaryzacja**
   - Sp贸jne przetwarzanie parametr贸w wejciowych
   - Jednolita obsuga bd贸w
   - Ustandaryzowana struktura odpowiedzi API

---

## Przepyw przetwarzania 偶dania

> **Schemat dziaania:**
> 1. Kontroler wywouje `process()`
> 2. Pobierane i walidowane s parametry wejciowe
> 3. Nastpuje komunikacja z serwisem aplikacyjnym
> 4. Odpowied藕 zostaje przygotowana i zwr贸cona jako JSON

### Metoda `process()` - Obsuga 偶dania

```php
/**
 * Obsuguje zapytanie GET, przetwarza parametry i zwraca odpowied藕.
 *
 * @param GetDetailsRequestDataDto|AbstractRequestDto $requestDataDto
 * @return JsonResponse
 */
public function process(GetDetailsRequestDataDto|AbstractRequestDto $requestDataDto): JsonResponse
{
    /**
     * Obsuga przeczania u偶ytkownika
     */
    $this->supportSwitchUser($requestDataDto);

    /**
     * Zwr贸cenie parametr贸w z requesta w postaci InputBag
     */
    $parameters = $this->prepareParameters($requestDataDto);

    /**
     * Aktualizacja wartoci p贸l w obiekcie serwisu na podstawie otrzymanych danych z requesta
     */
    $this->updateProperties($requestDataDto);

    try {
        // G贸wna logika zwr贸cenia danych
        $resultObject = $this->get($parameters);

    } catch (CommonLogicException $exception) {

        // Obsuga wyjtk贸w
        $this->interpretException($exception, Request::METHOD_GET);

        return $this->processJsonResponse();
    }

    return $this->prepareResponse(
        object: $resultObject
    );
}
```

---

## Implementacja metody `get()` i pobieranie danych

W systemie WiseB2B przygotowalimy podstawow logik metody get(), to wanie ta metoda obsuguje cae przetwarzanie zapytania GET DETAILS.

Podstawowa logika pozwala na pobranie element贸w zdefiniowanych w DTO. Jeli chcemy pobra jedynie typy proste wystarczy je zdefiniowa w DTO a nasz serwis prezentacji bdzie jedynie posiada nadpisanie serwisu w konstruktorze

UWAGA! Mo偶e zdarzy si tak, 偶e wykorzystywanie przygotowanej przez nas logiki w metodzie `get()` nie bdzie wystarczajce albo bdzie stwarzao wiele komplikacji. W takim przypadku mo偶emy nadpisa t metod w naszym serwisie prezentacji.

```php
/**
 * Pobiera szczeg贸owe dane dotyczce obiektu.
 *
 * @param InputBag $parameters Parametry wejciowe
 * @return array Tablica zawierajca dane obiektu
 */
public function get(InputBag $parameters): array
{
    // Przygotowanie parametr贸w
    // Metoda pomocnicza, umo偶liwiajca wykonanie dodatkowych czynnoci na parametrach, zanim zostan przekazane do serwisu
    $this->beforeInterpretParameters($parameters);

    // Pobranie klas reprezentujcych - odpowied藕 oraz parametry
    $responseClass = $this->getResponseClassDtoName($this->responseDto);
    $paramsClass = $this->getParamsClassDtoName($this->serviceParamsDto);

    // Interpretacja parametr贸w, przygotowanie filtr贸w na podstawie parametr贸w
    $filters = $this->interpreterParameters(parameters: $parameters);

    // Metoda pomocnicza, pozwalajca na wykonanie dodatkowych operacji po przygotowaniu filtr贸w
    $this->afterInterpretedParameters($filters, $parameters);

    $this->filters = $filters;

    // Przygotowanie mapowania p贸l. Rezultatem jest tablica p贸l, kt贸ra jest instrukcj m贸wic o tym, jak zmapowa konkretne pola znajdujce si w klasie ResponseDto na konkretne pola w encji
    $this->fieldMapping = $this->prepareCustomFieldMapping($this->fieldMapping);

    $this->getFieldsToManualHandling($this->fieldMapping);

    // Pobranie p贸l, z klasy ResponseDto do formy tablicy (uwzgldniajc mapowanie p贸l). W rezultacie otrzymujemy tablic p贸l, kt贸re maj by zwr贸cone z serwisu aplikacji zwracajcych informacje z Encji
    $fields = (new $responseClass())->mergeWithMappedFields($this->fieldMapping);
    $this->fields = $fields;

    // Przygotowanie parametr贸w dla serwisu aplikacji. Poczenie wszystkich powy偶szych czynnoci w jedn cao do pobrania konkretnego rekord贸w i jego p贸l
    $params = new $paramsClass();
    if ($params instanceof CommonDetailsParams) {
        $this->fillParams($params);
    }

    // Wywoanie serwisu aplikacji (AbstractDetailsService) z przekazanymi parametrami
    $serviceDto = $this->callApplicationService($this->applicationService, $params);
    $serviceDtoData = $serviceDto->read();

    // Metoda pomocnicza, kt贸ra pozwala na wykonanie dodatkowych operacji na danych (tablicowych) zwr贸conych z serwisu aplikacji
    $this->prepareServiceDtoBeforeTransform($serviceDtoData);

    // Konwersja danych z tablicy na obiekty ResponseDto
    $responseDtoObject = $this->sharedActionService->prepareSingleObjectResponseDto(
        $responseClass,
        $serviceDtoData,
        array_merge($this->fields, $this->fieldsToReturnInResponseByManualTransform)
    );

    // === Cz pomocnicza do zwr贸cenia ostatecznych danych ===

    // Metoda pomocnicza, kt贸ra pozwala na przygotowanie danych dla wszystkich rekord贸w
    // Przykadowo mo偶emy chcie pobra dokumenty dla wszystkich rekord贸w.. ta metoda pozwala wykona jedno zapytanie do bazy a rezultat przekaza jako cache do ka偶dego rekordu
    $cacheData = $this->prepareCacheData($serviceDtoData, $serviceDtoData);

    // Przygotowanie obiektu odpowiedzi
    $this->fillResponseDto($responseDtoObject, $cacheData, $serviceDtoData);

    return $responseDtoObject->resolveArrayData();
}
```

---

## Mo偶liwoci rozszerzania

### Obsuga niestandardowa filtr贸w

Domylnie wszystkie parametry GET przekazane do endpoint贸w tworz kolejne filtry (AND w SQL)
Czasem zdarza si sytuacja, 偶e chcemy inaczej je obsu偶y albo wgl nie tworzy z nich filtra (ma by pomijany).
Do takich cel贸w su偶y metoda `customInterpreterParameters`.

Zwr贸cona warto `true` oznacza 偶e filtr zosta zastosowany i nie bdzie tworzony standardowy filtr.

Zwr贸cona warto `false` oznacza 偶e filtr nie zosta zastosowany i zostanie utworzony standardowy filtr.

```php
/**
 * Dodaje niestandardowy filtr dla pola `customField`.
 *
 * @param array &$filters Lista filtr贸w
 * @param string $field Nazwa pola
 * @param mixed $value Warto pola
 * @return bool Czy filtr zosta zastosowany
 */
protected function customInterpreterParameters(array &$filters, int|string $field, mixed $value): bool
{
    /**
     * Tworzymy filtr typu wikszy ni偶: sysInsertDate > value
     */
    if ($field === 'fromDate') {
        $filters[] = new QueryFilter('sysInsertDate', new DateTime($value), QueryFilter::COMPARATOR_GREATER_THAN);
        return true;
    }

    /**
     * Tworzymy filtr typu mniejszy ni偶: sysInsertDate < value
     */
    if ($field === 'toDate') {
        $filters[] = new QueryFilter('sysInsertDate', new DateTime($value), QueryFilter::COMPARATOR_LESS_THAN);
        return true;
    }
    return false;
}
```

### Modyfikacja odpowiedzi

Mo偶emy chcie obsu偶y odpowied藕 w inny spos贸b ni偶 domylny. W takim przypadku mo偶emy nadpisa metod `fillResponseDto`.

```php
/**
 * Modyfikuje dane zwracane w odpowiedzi API.
 *
 * @param AbstractDto $responseDtoItem Obiekt DTO
 * @param array $cacheData Dodatkowe dane
 * @param array|null $serviceDtoItem Dane z warstwy biznesowej
 */
protected function fillResponseDto(AbstractDto $responseDtoItem, array $cacheData, ?array $serviceDtoItem = null): void
{
    $responseDtoItem->additionalInfo = 'Dodatkowe informacje';
}
```

Mo偶e si tak zdarzy, 偶e bdziesz potrzebowa pobra jakie dane ale zwr贸ci je w inny spos贸b ni偶 domylny bd藕 zwr贸ci jakie pole zdefiniowane w DTO ale takowe pole nie znajduje si w encji.
W takim przypadku w swoim DTO dodaj atrybut `FieldEntityMapping` z wartoci `FieldHandlingEnum::HANDLE_ONLY_BY_FILL_RESPONSE_DTO`.

Powoduje to, 偶e to pole nie zostanie umieszczone w polach do zwr贸cenia z encji (jeli by nie doda tego atrybuty dostaniesz wyjtek, 偶e takie pole nie istnieje w encji).
Nastpnie w metodzie `fillResponseDto` mo偶esz to pole wypeni dowoln wartoci.

```php
#[OA\Property(
    description: 'IP z kt贸rego wyra偶ono zgod',
    example: '4.321.45.213',
)]
#[FieldEntityMapping(FieldHandlingEnum::HANDLE_ONLY_BY_FILL_RESPONSE_DTO)]
protected ?string $agreeIp = null;
    ````



---

## Przykadowa implementacja

### GetPanelManagementContractService

#### Dto

```php
<?php

namespace Wise\Agreement\ApiUi\Dto\PanelManagement;

use DateTimeInterface;
use Wise\Agreement\ApiAdmin\Dto\Contract\ContractTranslationDto;
use Wise\Core\Api\Attributes\OpenApi\EndpointElement as OA;
use Wise\Core\Api\Dto\Attributes\FieldEntityMapping;
use Wise\Core\Api\Fields\FieldHandlingEnum;
use Wise\Core\ApiUi\Dto\CommonUiApiDto;

class GetPanelManagementContractDto extends CommonUiApiDto
{
    #[OA\Property(
        description: 'Identyfikator umowy',
        example: 1,
    )]
    protected ?int $id = null;

    #[OA\Property(
        description: 'Czy umowa jest aktywna',
        example: true,
    )]
    protected ?bool $isActive;

    #[OA\Property(
        description: 'Stopie wymagalnoci: 1 - Do korzystania z witryny, 2 - Do zo偶enia zam贸wienia, 3 - Dobrowolna',
        example: 1,
    )]
    protected ?int $requirement = null;

    #[OA\Property(
        description: 'Na kogo oddziaowuje umowa: 1 - Klient, 2 - U偶ytkownik, 3 - Zam贸wienie',
        example: 1,
    )]
    protected ?int $impact = null;

    #[OA\Property(
        description: 'Kontekst proby (gdzie ma zosta wywietlona proba) ',
        example: 'HOME_PAGE;CHECKOUT',
    )]
    protected ?string $contexts = null;

    #[OA\Property(
        description: 'Symbol - unikalny identyfikator, aby mo偶na byo odwoa si do konkretnej umowy w kodzie',
        example: 'RULES_2024_11_12',
    )]
    protected ?string $symbol = null;

    #[OA\Property(
        description: 'Typ umowy: RULES - Regulamin, PRIVACY_POLICY - Polityka prywatnoci, RODO - rodo, NEWSLETTER - Newsletter, MARKETING - Marketing',
        example: 'RULES',
    )]
    protected ?string $type = null;

    #[OA\Property(
        description: 'Role u偶ytkownik贸w, kt贸rych dotyczy umowa',
        example: 'ROLE_USER_MAIN;ROLE_USER',
    )]
    protected ?string $roles = null;

    #[OA\Property(
        description: 'Status: 1 - W trakcie edycji, 2 - aktywne, 3 - (deprecated) umowa aktywna ale nie mo偶na przypisa nowych u偶ytkownik, 4 - nieaktywna',
        example: 1,
    )]
    protected ?int $status = null;

    #[OA\Property(
        description: ' W trakcie edycji',
        example: 1,
    )]
    protected ?string $statusFormatted = null;

    /** @var ContractTranslationDto[] */
    protected ?array $name = null;

    /** @var ContractTranslationDto[] */
    protected ?array $content = null;

    /** @var ContractTranslationDto[] */
    protected ?array $testimony = null;

    #[OA\Property(
        description: 'Regulamin',
        example: 'Regulamin 20.11.2023',
    )]
    #[FieldEntityMapping(FieldHandlingEnum::HANDLE_BY_TRANSFER_AND_RETURN_IN_RESPONSE)]
    protected ?string $nameFormatted = null;

    #[OA\Property(
        description: 'Zawarto umowy w formacie HTML',
        example: 'Lorem ipsum',
    )]
    #[FieldEntityMapping(FieldHandlingEnum::HANDLE_BY_TRANSFER_AND_RETURN_IN_RESPONSE)]
    protected ?string $contentFormatted = null;

    #[OA\Property(
        description: 'Data obowizywania umowy od',
        example: '2023-01-01 00:00:01',
    )]
    protected ?DateTimeInterface $fromDate = null;

    #[OA\Property(
        description: 'Data obowizywania umowy do',
        example: '2028-01-01 00:00:01',
    )]
    protected ?DateTimeInterface $toDate = null;

    #[OA\Property(
        description: 'Data ustawienia umowy na status "deprecated"',
        example: null,
    )]
    protected ?DateTimeInterface $deprecatedDate = null;

    #[OA\Property(
        description: 'Data ustawienia umowy na status "inActive"',
        example: null,
    )]
    protected ?DateTimeInterface $inActiveDate = null;

    public function getId(): ?int
    {
        return $this->id;
    }

    public function setId(?int $id): self
    {
        $this->id = $id;

        return $this;
    }

    // other Getters and Setters
}

```

#### Serwis

```php
<?php

namespace Wise\Agreement\ApiUi\Service\PanelManagement;

use Symfony\Component\HttpFoundation\InputBag;
use Symfony\Component\Serializer\Exception\ExceptionInterface;
use Symfony\Contracts\Translation\TranslatorInterface;
use Wise\Agreement\ApiUi\Service\PanelManagement\Interfaces\GetPanelManagementContractServiceInterface;
use Wise\Agreement\Service\Agreement\Interfaces\CanUserAccessToAgreementServiceInterface;
use Wise\Agreement\Service\Contract\Interfaces\GetContractDetailsServiceInterface;
use Wise\Core\ApiUi\Helper\UiApiShareMethodsHelper;
use Wise\Core\ApiUi\Service\AbstractGetDetailsUiApiService;
use Wise\Core\Dto\AbstractDto;
use Wise\Core\Service\TranslationService;
use Wise\Core\ServiceInterface\Locale\LocaleServiceInterface;
use Wise\Security\Service\Interfaces\CurrentUserServiceInterface;

class GetPanelManagementContractService extends AbstractGetDetailsUiApiService implements GetPanelManagementContractServiceInterface
{

    public function __construct(
        UiApiShareMethodsHelper $sharedActionService,
        private readonly GetContractDetailsServiceInterface $getContractDetailsService,
        private readonly TranslatorInterface $translator,
        private readonly TranslationService $translationService,
        private readonly LocaleServiceInterface $localeService,
        private readonly CurrentUserServiceInterface $currentUserService,
        private readonly CanUserAccessToAgreementServiceInterface $canUserAccessToAgreementService
    ){
        parent::__construct($sharedActionService, $getContractDetailsService);
    }

    /**
     * Metoda umo偶liwiajca wykonanie pewnej czynnoci przed obsug filtr贸w
     * @param InputBag $parametersAdjusted
     * @return void
     */
    protected function beforeInterpretParameters(InputBag $parametersAdjusted): void
    {
        $this->canUserAccessToAgreementService->check();
    }

    /**
     * Metoda pozwala przeksztaci poszczeg贸lne obiekty serviceDto przed transformacj do responseDto
     * @param array|null $elementData
     * @return void
     * @throws ExceptionInterface
     */
    protected function prepareElementServiceDtoBeforeTransform(?array &$elementData): void
    {
        $elementData = [
            ...$elementData,
            'nameFormatted' => $this->translationService->getTranslationForField($elementData['name'], $this->localeService->getCurrentLanguage()),
            'contentFormatted' => $this->translationService->getTranslationForField($elementData['content'], $this->localeService->getCurrentLanguage()),
        ];
    }

    /**
     * Metoda pozwala uzupeni responseDto pojedyczego elementu o dodatkowe informacje
     * @param AbstractDto $responseDtoItem
     * @param array $cacheData
     * @param array|null $serviceDtoItem
     * @return void
     */
    protected function fillResponseDto(AbstractDto $responseDtoItem, array $cacheData, ?array $serviceDtoItem = null): void
    {
        $responseDtoItem->setName($serviceDtoItem['name']);
        $responseDtoItem->setContent($serviceDtoItem['content']);
        $responseDtoItem->setTestimony($serviceDtoItem['testimony']);
    }
}

```



### GetPanelManagementDeliveryPaymentCostService

Abstract obsuguj poprawnie pola o typach prostych i nie musimy ich dodatkowo przetwarza

#### Dto

```php
<?php

declare(strict_types=1);

namespace Wise\Pricing\ApiUi\Dto\PanelManagement\DeliveryPaymentCost;

use Wise\Core\Api\Attributes\OpenApi\EndpointElement as OA;
use Wise\Core\ApiUi\Dto\CommonUiApiDto;

class GetPanelManagementDeliveryPaymentCostDto extends CommonUiApiDto
{

    #[OA\Property(
        description: '',
        example: 'example',
    )]
    protected ?string $idExternal = null;


    #[OA\Property(
        description: 'Identyfikator metody dostawy',
        example: 1,
    )]
    protected ?int $deliveryMethodId = null;

    #[OA\Property(
        description: 'Nazwa sposobu dostawy - do wywietlenia',
        example: 1,
    )]
    protected ?string $deliveryMethodFormatted = null;


    #[OA\Property(
        description: 'Identyfikator metody patnoci',
        example: 1,
    )]
    protected ?int $paymentMethodId = null;


    #[OA\Property(
        description: 'Nazwa sposobu patnoci - do wywietlenia',
        example: 1,
    )]
    protected ?string $paymentMethodFormatted = null;


    #[OA\Property(
        description: 'Identyfikator kraju',
        example: 1,
    )]
    protected ?int $countryId = null;

    #[OA\Property(
        description: 'Nazwa kraju - do wywietlenia',
        example: 1,
    )]
    protected ?string $countryFormatted = null;


    #[OA\Property(
        description: 'Metoda obliczania kosztu dostawy',
        example: 1,
    )]
    protected ?int $deliveryCalcMethod = null;


    #[OA\Property(
        description: 'Parametr metody obliczania kosztu dostawy',
        example: 1.1,
    )]
    protected ?float $deliveryCalcParam = null;


    #[OA\Property(
        description: 'Limit darmowej dostawy',
        example: 1.1,
    )]
    protected ?float $freeDeliveryLimit = null;


    #[OA\Property(
        description: 'Metoda obliczania kosztu patnoci',
        example: 1,
    )]
    protected ?int $paymentCalcMethod = null;


    #[OA\Property(
        description: 'Parametr metody obliczania kosztu patnoci',
        example: 1.1,
    )]
    protected ?float $paymentCalcParam = null;


    #[OA\Property(
        description: 'Waluta oblicze',
        example: 'example',
    )]
    protected ?string $currencyCalc = null;


    #[OA\Property(
        description: 'Czy dostawa cena dotyczy dropshippingu',
        example: true,
    )]
    protected ?bool $forDropshipping = null;


    #[OA\Property(
        description: 'Identyfikator encji',
        example: 1,
    )]
    protected ?int $id = null;


    #[OA\Property(
        description: 'Czy encja jest aktywna',
        example: true,
    )]
    protected ?bool $isActive = null;


    #[OA\Property(
        description: '',
        example: 'example',
    )]
    protected ?string $entityHash = null;


    #[OA\Property(
        description: 'Informacja, w jakiej kolejnoci maj zosta zwr贸cone dane',
        example: 1,
    )]
    protected int $sortOrder;



    public function getIdExternal(): ?string
    {
        return $this->idExternal;
    }

    public function setIdExternal(?string $idExternal): self
    {
        $this->idExternal = $idExternal;

        return $this;
    }


    public function getDeliveryMethodId(): ?int
    {
        return $this->deliveryMethodId;
    }

    public function setDeliveryMethodId(?int $deliveryMethodId): self
    {
        $this->deliveryMethodId = $deliveryMethodId;

        return $this;
    }


    public function getPaymentMethodId(): ?int
    {
        return $this->paymentMethodId;
    }

    public function setPaymentMethodId(?int $paymentMethodId): self
    {
        $this->paymentMethodId = $paymentMethodId;

        return $this;
    }


    public function getCountryId(): ?int
    {
        return $this->countryId;
    }

    public function setCountryId(?int $countryId): self
    {
        $this->countryId = $countryId;

        return $this;
    }


    public function getDeliveryCalcMethod(): ?int
    {
        return $this->deliveryCalcMethod;
    }

    public function setDeliveryCalcMethod(?int $deliveryCalcMethod): self
    {
        $this->deliveryCalcMethod = $deliveryCalcMethod;

        return $this;
    }


    public function getDeliveryCalcParam(): ?float
    {
        return $this->deliveryCalcParam;
    }

    public function setDeliveryCalcParam(?float $deliveryCalcParam): self
    {
        $this->deliveryCalcParam = $deliveryCalcParam;

        return $this;
    }


    public function getFreeDeliveryLimit(): ?float
    {
        return $this->freeDeliveryLimit;
    }

    public function setFreeDeliveryLimit(?float $freeDeliveryLimit): self
    {
        $this->freeDeliveryLimit = $freeDeliveryLimit;

        return $this;
    }


    public function getPaymentCalcMethod(): ?int
    {
        return $this->paymentCalcMethod;
    }

    public function setPaymentCalcMethod(?int $paymentCalcMethod): self
    {
        $this->paymentCalcMethod = $paymentCalcMethod;

        return $this;
    }


    public function getPaymentCalcParam(): ?float
    {
        return $this->paymentCalcParam;
    }

    public function setPaymentCalcParam(?float $paymentCalcParam): self
    {
        $this->paymentCalcParam = $paymentCalcParam;

        return $this;
    }


    public function getCurrencyCalc(): ?string
    {
        return $this->currencyCalc;
    }

    public function setCurrencyCalc(?string $currencyCalc): self
    {
        $this->currencyCalc = $currencyCalc;

        return $this;
    }


    public function getForDropshipping(): ?bool
    {
        return $this->forDropshipping;
    }

    public function setForDropshipping(?bool $forDropshipping): self
    {
        $this->forDropshipping = $forDropshipping;

        return $this;
    }


    public function getId(): ?int
    {
        return $this->id;
    }

    public function setId(?int $id): self
    {
        $this->id = $id;

        return $this;
    }


    // other Getters and Setters
}


```

#### Serwis

```php
<?php

declare(strict_types=1);

namespace Wise\Pricing\ApiUi\Service\PanelManagement;

use Wise\Core\ApiUi\Service\AbstractGetDetailsUiApiService;
use Wise\Core\ApiUi\Helper\UiApiShareMethodsHelper;
use Wise\Pricing\ApiUi\Service\PanelManagement\Interfaces\GetPanelManagementDeliveryPaymentCostServiceInterface;
use Wise\Pricing\Service\DeliveryPaymentCost\Interfaces\GetDeliveryPaymentCostDetailsServiceInterface;

class GetPanelManagementDeliveryPaymentCostService extends AbstractGetDetailsUiApiService implements GetPanelManagementDeliveryPaymentCostServiceInterface
{
    /**
     * Czy pobra ilo wszystkich rekord贸w
     */
    protected bool $fetchTotal = true;

    public function __construct(
        UiApiShareMethodsHelper $sharedActionService,
        private readonly GetDeliveryPaymentCostDetailsServiceInterface $getDeliveryPaymentCostDetailsService,
    ){
        parent::__construct($sharedActionService, $getDeliveryPaymentCostDetailsService);
    }

}


```

---

## Podsumowanie

> Dokumentacja zapewnia pene informacje o serwisie GET DETAILS, w tym przepyw dziaania, implementacj i mo偶liwoci rozszerzania. 




---

## Metoda `calculateTotal()`

```php

Funkcja kalkulacji ceny produktu:
Oblicza cen kocow.
<?php
function calculateTotal($price, $taxRate) {
    // oblicza cen kocow
    return $price * (1 + $taxRate);
}
?>
```

---






















